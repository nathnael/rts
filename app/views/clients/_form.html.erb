<!-- Main content -->
<section class="content">
  <div class="container-fluid">
    <div class="row">
      <!-- left column -->
      <div class="col-md-12">
        <!-- general form elements -->
        <div class="card card-primary">
          
          <!-- form start -->
          <%= form_with(model: @client, local: true) do |f| %>
            <div class="card-body">
              <% if @client.errors.any? %>
                <div class="panel panel-danger">
                  <div class="panel-heading">
                    <%= pluralize(@client.errors.count, "error") %> prohibited this client from being saved.
                  </div>

                  <div class="panel-body">
                    <ul>
                      <% @client.errors.full_messages.each do |message| %>
                      <li><%= message %></li>
                      <% end %>
                    </ul>
                  </div>
                </div>
              <% end %>
              <div class="row">
                <div class="form-group col-3">
                  <%= f.label :name %>
                  <%= f.text_field :name, :class => 'form-control' %>
                </div>
                <div class="form-group col-3">
                  <%= f.label :point_person %>
                  <%= f.text_field :rep_name, :class => 'form-control' %>
                </div>
                <div class="form-group col-3">
                  <%= f.label :country %>
                  <%= render partial: "shared/countrylist", locals: {id: "country", name: "client[address[country]]", value: @address.present? ? @address.country : ""} %>
                </div>
                <div class="form-group col-3">
                   <%= f.label :status %>
                  <%= f.select :status, Client.statuses.keys.map { |w| [w.humanize, w] }, {include_blank: "Select Status"}, { :class => 'form-control' } %>
                </div>
              </div>
              <div class="row">                

                <div class="form-group col-3">
                  <%= f.label :email %>
                  <input id="email" name="client[address[email]]" type="text" class="form-control" value="<%= @address.present? ? @address.email : "" %>" />
                </div>

                <div class="form-group col-3">
                  <%= f.label :postal_code %>
                  <input id="postal_code" name="client[address[postal_code]]" type="text" class="form-control" value="<%= @address.present? ? @address.postal_code : "" %>" />
                </div>

                <div class="form-group col-3">
                  <%= f.label :zip_code %>
                  <input id="zip_code" name="client[address[zip_code]]" type="text" class="form-control" value="<%= @address.present? ? @address.zip_code : "" %>" />
                </div>

                <div class="form-group col-3">
                  <%= f.label :house_no %>
                  <input id="house_no" name="client[address[house_no]]" type="text" class="form-control" value="<%= @address.present? ? @address.house_no : "" %>" />
                </div>
              </div>

              <div class="row">
                <div class="form-group col-3">
                  <%= f.label :street_no %>
                  <input id="street_no" name="client[address[street_no]]" type="text" class="form-control" value="<%= @address.present? ? @address.street_no : "" %>" />
                </div>

                <div class="form-group col-3">
                  <%= f.label :sub_city %>
                  <input id="sub_city" name="client[address[sub_city]]" type="text" class="form-control" value="<%= @address.present? ? @address.sub_city : "" %>" />
                </div>

                <div class="form-group col-3">
                  <%= f.label :woreda %>
                  <input id="woreda" name="client[address[woreda]]" type="text" class="form-control" value="<%= @address.present? ? @address.woreda : "" %>" />
                </div>

                <div class="form-group col-3">
                  <%= f.label :cell_phone %>
                  <input id="cell_phone" name="client[address[cell_phone]]" type="text" class="form-control" value="<%= @address.present? ? @address.cell_phone : "" %>" />
                </div>

              </div>

              <div class="row">
                
                <div class="form-group col-3">
                  <%= f.label :work_phone %>
                  <input id="work_phone" name="client[address[work_phone]]" type="text" class="form-control" value="<%= @address.present? ? @address.work_phone : "" %>" />
                </div>
                
                <div class="form-group col-3">
                  <%= f.label :city %>
                  <input id="city" name="client[address[city]]" type="text" class="form-control" value="<%= @address.present? ? @address.city : "" %>" />
                </div>

                <div class="form-group col-3">
                  <%= f.label :state %>
                  <input id="state" name="client[address[state]]" type="text" class="form-control" value="<%= @address.present? ? @address.state : "" %>" />
                </div>               
                
              </div>
              
            </div>
            <!-- /.card-body -->
            
            <div class="card-footer">
              <%= f.submit :class => 'btn btn-primary' %>
            </div>
          <% end %>
        </div>
        <!-- /.card -->
      </div>
    </div>
  </div>
</section>

<script>
  $(document).ready(function() {
      document.getElementById("country").value="<%= @address.present? ? @address.country : "" %>";  
  });
</script>